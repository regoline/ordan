{% extends "authenticated_base.html" %}

{% block content %}
<div class="dashboard-container">
    <h2>Manage NPCs</h2>
    
    <div class="dashboard-columns">
        <div class="dashboard-main">
            <a href="{{ url_for('game.add_npc') }}" class="btn btn-primary">Add New NPC</a>
            
            <table class="npc-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Level</th>
                        <th>HP</th>
                        <th>Faction</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for npc in npcs %}
                    <tr>
                        <td>{{ translations.game.npcs[npc.translation_key].name }}</td>
                        <td>{{ npc.level }}</td>
                        <td>{{ npc.healthpoints }}/{{ npc.max_healthpoints }}</td>
                        <td>{{ npc.faction }}</td>
                        <td>
                            <a href="{{ url_for('game.edit_npc', npc_id=npc.id) }}" class="btn btn-sm btn-edit">Edit</a>
                            <form method="POST" action="{{ url_for('game.delete_npc', npc_id=npc.id) }}" style="display:inline;">
                                <button type="submit" class="btn btn-sm btn-delete" onclick="return confirm('Are you sure?')">Delete</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    .npc-table {
        width: 100%;
        margin-top: 20px;
        border-collapse: collapse;
    }
    
    .npc-table th, .npc-table td {
        padding: 10px;
        border: 1px solid #444;
        text-align: left;
    }
    
    .npc-table th {
        background-color: #333;
    }
    
    .btn-edit {
        background-color: #4a6ea9;
        color: white;
    }
    
    .btn-delete {
        background-color: #d9534f;
        color: white;
    }
</style>
{% endblock %}
